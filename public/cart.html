<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Shopping Bag | Lydia Creation</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="main.css">
  <style>
    :root {
      --accent-gold: #d4a38d;
      --marketplace-blue: #2874f0;
      --bg-grey: #f1f3f6;
      --white: #ffffff;
      --text-dark: #212121;
      --text-muted: #878787;
    }

    body {
      font-family: 'Inter', sans-serif;
      background-color: var(--bg-grey);
      color: var(--text-dark);
      margin: 0;
    }

    .header-cart {
      background: var(--white);
      padding: 15px 0;
      box-shadow: 0 1px 1px rgba(0,0,0,0.1);
      position: sticky; /* ✅ fixed */
      top: 0;
      z-index: 100;
    }

    .container { max-width: 1200px; margin: 0 auto; padding: 0 16px; }
    .cart-layout { display: grid; grid-template-columns: 1fr 380px; gap: 16px; margin-top: 20px; align-items: start; }

    /* Left Column */
    .cart-card { background: var(--white); border-radius: 2px; box-shadow: 0 1px 2px rgba(0,0,0,0.1); margin-bottom: 16px; }
    .card-title { padding: 16px 24px; border-bottom: 1px solid #f0f0f0; font-size: 18px; font-weight: 600; }
    .cart-item { display: flex; padding: 24px; border-bottom: 1px solid #f0f0f0; gap: 20px; }
    .item-img-container { width: 110px; text-align: center; }
    .item-img-container img { width: 100%; height: 140px; object-fit: cover; }

    /* Right Column (Sticky Summary) */
    .summary-card { background: var(--white); padding: 20px; border-radius: 2px; position: sticky; top: 80px; box-shadow: 0 1px 2px rgba(0,0,0,0.1); }
    .summary-row { display: flex; justify-content: space-between; margin: 15px 0; font-size: 16px; }
    .total-row { border-top: 1px dashed #e0e0e0; padding-top: 15px; margin-top: 15px; font-weight: 700; font-size: 18px; }
    .btn-order { background: #fb641b; color: #fff; border: none; width: 100%; padding: 15px; font-weight: 600; cursor: pointer; text-transform: uppercase; border-radius: 2px; }

    /* Recommendation Section */
    .rec-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 15px; padding: 20px; }
    .rec-item { border: 1px solid #f0f0f0; padding: 10px; text-align: center; }
    .rec-item img { width: 100%; height: 150px; object-fit: cover; }

    /* Modal */
    #sizeModal {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.8);
      z-index: 1000;
      justify-content: center;
      align-items: center;
    }
    #sizeModal.show { display: flex; } /* ✅ toggle with class */
  </style>
</head>
<body>

<header class="header-cart">
  <div class="container" style="display:flex; justify-content:space-between; align-items:center;">
    <a href="shop.html" style="text-decoration:none; color:var(--text-dark); font-family:'Playfair Display'; font-size:24px;">Lydia Creation</a>
    <button onclick="toggleSizeGuide()" style="background:none; border:1px solid #ddd; padding:5px 10px; cursor:pointer; font-size:12px;">View Size Guide</button>
  </div>
</header>

<main class="container cart-layout">
  <div class="left-col">
    <div class="cart-card">
      <div class="card-title">My Archive (<span id="countTop">0</span>)</div>
      <div id="cartItemsList"></div>
    </div>

    <div class="cart-card">
      <div class="card-title" style="font-family:'Playfair Display'">Boutique Recommendations</div>
      <div id="recommendationGrid" class="rec-grid"></div>
    </div>
  </div>

  <aside class="summary-card">
    <div style="color:var(--text-muted); font-weight:600; text-transform:uppercase; font-size:12px; margin-bottom:20px;">Price Details</div>
    <div class="summary-row"><span>Price (<span id="countSummary">0</span> items)</span><span id="subtotal">₹0</span></div>
    <div class="summary-row"><span style="color:#388e3c">Boutique Discount (10%)</span><span style="color:#388e3c" id="discount">-₹0</span></div>
    <div class="summary-row"><span>Delivery</span><span style="color:#388e3c">FREE</span></div>
    <div class="total-row summary-row"><span>Total Amount</span><span id="total">₹0</span></div>
    <button class="btn-order" onclick="alert('ProcessOrder')">Place Order</button>
  </aside>
</main>

<div id="sizeModal">
  <div style="background:white; padding:30px; max-width:500px; width:90%; position:relative;">
    <button onclick="toggleSizeGuide()" style="position:absolute; top:10px; right:10px; border:none; background:none; font-size:20px;">&times;</button>
    <h3 style="text-align:center; font-family:'Playfair Display'">Bespoke Measurement Guide</h3>
    <p style="font-size:13px; color:gray; text-align:center;">Ensure your custom order fits perfectly by following these measurements.</p>
  </div>
</div>

<script src="cart.js"></script>
<script>
  // ✅ Toggle size guide modal
  function toggleSizeGuide() {
    const modal = document.getElementById("sizeModal");
    modal.classList.toggle("show");
  }
</script>
  <script src="main.js"></script>  <!-- Reuse main.js for shared functions -->
    <script src="cart.js"></script>  
</body>
</html>
